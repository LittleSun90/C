# 字符串和格式化输入/输出

字符串是一个或多个字符的序列，被存储在以'\0'结尾的char数组中。

格式化转换字符%s

scanf()遇到第一个空白（空格、制表符或换行符）停止读取输入

strlen()给出字符串中的字符长度，不包含空字符'\0'

## 常量与符号常量
#define NAME value，没有等号，末尾不加分号  
宏定义，预处理，编译时替换

const限定**变量**为只读  
const type name = value

limits.h中定义的常量
|常量|含义|
|---------|---------|
|CHAR_BIT |char类型的位数|
|CHAR_MAX |char类型的最大值|
|CHAR_MIN |char类型的最小值|
|SCHAR_MAX |signed char 类型的最大值|
|SCHAR_MIN |signed char 类型的最小值|
|UCHAR_MAX |unsigned char 类型的最大值|
|SHRT_MAX |short value 类型的最大值|
|SHRT_MIN |short value 类型的最小值|
|USHRT_MAX |unsigned short 类型的最大值|
|INT_MAX |int 类型的最大值|
|INT_MIN |int 类型的最小值|
|UINT_MAX |unsigned int 类型的最大值|
|LONG_MAX |long 类型的最大值|
|LONG_MIN |long 类型的最小值|
|ULONG_MAX |unsigned long 类型的最大值|
|LLONG_MAX |long long 类型的最大值|
|LLONG_MIN |long long 类型的最小值|
|ULLONG_MAX |unsigned long long 类型的最大值|

float.h中的常量，还有DBL和LDBL开头的变量未列出
|常量|含义|
|---------|---------|
|FLT_MANT_DIG |float类型的尾数位数|
|FLT_DIG |float类型的最少有效数字位数|
|FLT_MIN_10_EXP |带全部有效数字的float类型的最小负指数|
|FLT_MAX_10_EXP |float类型的最大正指数|
|FLT_MIN |保留全部精度的float类型最小正数|
|FLT_MAX |float类型的最大正数|
|FLT_EPSILON |1.00和比1.00大的最小float类型值之间的差值|

## printf
使用格式字符串（转换说明）和参数列表  
格式字符串中的转换说明与参数列表项数要匹配

|转换说明|输出|
|---------|---------|
|%a|浮点数、十六进制和p计数法|
|%A|浮点数、十六进制和p计数法|
|%c|单个字符|
|%d|有符号十进制整数|
|%e|浮点数，e计数法|
|%E|浮点数，e计数法|
|%f|浮点数，十进制计数法|
|%g|根据值的不同，自动选择%f或%e，%e格式用于指数小于-4或者大于等于精度时|
|%G|根据值的不同，自动选择%f或%E，%E格式用于指数小于-4或者大于等于精度时|
|%i|有符号十进制整数，同%d|
|%o|无符号八进制整数|
|%p|指针|
|%s|字符串|
|%u|无符号十进制整数|
|%x|无符号十六进制整数，使用十六进制数0f|
|%X|无符号十六进制整数，使用十六进制数0F|
|%%|打印一个百分号|

|转换说明修饰符|含义|
|---------|---------|
|标记|包含（- + 空格 #和 0）五种，可不使用或使用多个标记|
|数字|最小字段宽度，如果字段不能容纳待打印的数字或字符串，系统会使用更宽的字段|
|.数字|精度，对于%e、%E和%f，表示小数点右边数字的位数；对于%g和%G，表示有效数字最大位数；对于%s，表示待打印字符的最大数量；对于整型，表示待打印数字的最小位数；如有必要，使用前导0来达到这个位数，只使用.表示其后跟随一个0，所以%.和%.0f相同|
|h|和整型转换说明一起使用，表示short int 或 unsigned short int 类型|
|hh|和整型转换说明一起使用，表示short char 或 unsigned short char 类型|
|j|和整型转换说明一起使用，表示intmax_t或uintmax_t类型的值定义在stdint.h中|
|l|和整型转换说明一起使用，表示long int 或 unsigned long int 类型|
|ll|和整型转换说明一起使用，表示long long int 或 unsigned long long int 类型|
|L|和浮点转换说明一起使用，表示long double 类型|
|t|和整型转换说明一起使用，表示ptrdiff_t类型,两个指针的差值|
|z|和整型转换说明一起使用，表示size_t类型,sizeof返回的类型|

|标记|含义|
|---------|---------|
|-|待打印项左对齐，即从字段的左侧开始打印该项|
|+|有符号值若为正，则在值前面显示加号；若为负，则在值前面显示减号|
|空格|有符号值若为正，则在值前面显示前导空格（不显示任何符号）；若为负，则在值前面显示减号-标记覆盖一个空格|
|0|对于数值格式，用前导0代替空格填充字段宽度，对于整数格式，如果出现-标记或者指定精度，则忽略该标记|
|#|把结果转换位另一种形式，如果是%o格式，则以0开始；如果是%x或%X格式，则以0x或者0X开始；对于所有的浮点格式，#保证了即使后面没有任何数字，也打印一个小数点字符。对于%g和%G格式，#防止结果后边的0被删除|

printf的返回值，正常返回打印字符的个数，有输出错误则返回一个负值

打印长字符串换行：  
1. 使用多个printf，前面的不使用'\n'
2. 用反斜杠\换行，但下一行需要顶格
3. 使用多个"",""之间的空白会忽略，（）之间可多换行

## scanf
参数是使用指向变量的指针，读取基本变量类型的值，在变量名前加&取地址

|转换说明|输出|
|---------|---------|
|%c|输入解析为字符|
|%d|输入解析为有符号十进制整数|
|%e、%f、%g、%a|输入解析为浮点数|
|%E、%F、%G、%A|输入解析为浮点数|
|%i|输入解析为有符号十进制整数|
|%o|输入解析为有符号八进制整数|
|%p|输入解析为指针（地址）|
|%s|输入解析为字符串，从第一个非空白字符到下一个空白字符之间所有的字符|
|%u|输入解析为无符号十进制整数|
|%x、%X|输入解析为无符号十六进制整数|

转换说明修饰符：  
字段宽度，scanf在字段结尾或第一个空白字符处停止读取  
格式字符串中的普通字符要与输入严格匹配  
scanf返回成功读取的项数。如果没有读取任何项，且需要读取一个数字而用户却输入一个非数值字符串，scanf返回0。当scanf检测到文件结尾，则返回EOF